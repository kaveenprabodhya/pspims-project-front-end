<h5 class="mb-3">{{ isEditMode ? 'Edit Agent' : 'Add New Agent' }}</h5>

<form [formGroup]="agentForm" (ngSubmit)="onSubmit()" class="mt-3">
  <div *ngIf="getFormErrors().length > 0" class="alert alert-danger p-2 mb-3 rounded">
    <ul class="mb-0">
      <li *ngFor="let error of getFormErrors()">{{ error }}</li>
    </ul>
  </div>
  <div class="row g-3">
    <div class="col-md-6">
      <label class="form-label">First Name</label>
      <input type="text" class="form-control" formControlName="firstName" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Last Name</label>
      <input type="text" class="form-control" formControlName="lastName" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Email</label>
      <input type="email" class="form-control" formControlName="email" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Address</label>
      <input type="text" class="form-control" formControlName="address" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Username</label>
      <input type="text" class="form-control" formControlName="username" autocomplete="off" />
    </div>
    <div class="col-md-6">
      <label class="form-label">Password</label>
      <input type="password" class="form-control" formControlName="password" autocomplete="new-password" />
    </div>
  </div>

  <div class="mt-3">
    <div class="mb-3">
      <label class="form-label">Role</label>
      <select class="form-select" formControlName="role">
        <option value="" disabled>Select Role</option>
        <option *ngFor="let r of roles" [value]="r">{{ r }}</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Department</label>
      <select class="form-select" formControlName="agentDepartment">
        <option value="" disabled>Select Department</option>
        <option *ngFor="let d of departments" [value]="d">{{ d }}</option>
      </select>
    </div>
    <div class="mb-3">
      <label class="form-label">Performance Rate</label>
      <input type="number" class="form-control" formControlName="performanceRate" min="0" [placeholder]="0"/>
    </div>
    <button type="submit" class="btn btn-primary">
      {{ isEditMode ? 'Update Agent' : 'Add Agent' }}
    </button>
  </div>
</form>
